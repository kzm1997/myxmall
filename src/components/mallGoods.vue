<template>
  <div class='good-item'>
      <div>
          <div class="good-img">
             <a @click="openProduct(msg.productId)"></a>
             <img v-lazy="msg.productImageBig"   :alt="msg.productName" :key="msg.productImageBig">
          </div>
          <h6 class="good-title" v-html="msg.productName">{{msg.productName}}</h6>
          <h3 class="sub-title ellipsis">{{msg.subtitle}}</h3>
          <div class="good-price pr">
              <div class="ds pa">
                  <a @click="openProduct(msg.productId)">
                      <y-button text="查看详情" class="detail"></y-button>
                  </a>
                  <y-button text="加入购物车" class="cart"  classStyle="main-btn"></y-button>
              </div>
              <p>
                 <span class="price">${{Number(msg.salePrice).toFixed(2)}}</span>
              </p>
          </div>
      </div>
  </div>
</template>

<script>
import YButton from './YButton.vue'
import  {mapMutations,mapState} from 'vuex'
export default {
  components: {YButton},
  data () {
    return {
      
    }
  },
  computed: {
      ...mapState(['login','showMoveImg','showCart'])
  },
  watch: {},
  created () {

  },
  mounted () {

  },
  props:{
    msg:{
      salePrice:0
    }
  },

  beforeCreate () { }, // 
  beforeMount () { }, // 
  beforeUpdate () { }, //
  updated () { }, //
  beforeDestroy () { }, // 
  destroyed () { }, // 
  activated () { }, // 
  methods: {
    ...mapMutations(['ADD_CART','ADD_ANIMATTION','SHOW_CART']),
    openProduct(id){
        window.open('//'+window.location.host+'/#/goodsDetails?productId='+id);
    }
  }
}
</script>

<style lang='scss' scoped>
  @import "../assets/style/mixin";
  @import "../assets/style/theme";

  .good-item {
    background: #fff;
    width: 25%;
    transition: all .5s;
    height: 430px;
    &:hover {
      transform: translateY(-3px);
      box-shadow: 1px 1px 20px #999;
      .good-price p {
        display: none;
      }
      .ds {
        display: flex;
        .detail{
          margin: 0 5px;
        }
        .cart{
          margin: 0 5px;
        }
        .price{
          font-size: 14px;
        }
      }
    }
    .ds {
      @extend %block-center;
      width: 100%;
      display: none;
    }

    .good-img {
      img {
        margin: 50px auto 10px;
        @include wh(206px);
        display: block;
      }
    }
    .good-price {
      margin: 15px 0;
      height: 30px;
      text-align: center;
      line-height: 30px;
      color: #d44d44;
      font-family: Arial;
      font-size: 18px;
      font-weight: 700;
    }
    .good-title {
      line-height: 1.2;
      font-size: 16px;
      color: #424242;
      margin: 0 auto;
      padding: 0 14px;
      text-align: center;
      overflow: hidden;
    }
    h3 {
      text-align: center;
      line-height: 1.2;
      font-size: 12px;
      color: #d0d0d0;
      padding: 10px;
    }

  }
</style>
